"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[519],{65093:function(e,t,r){r.d(t,{G:function(){return j}});r(67294);var i=r(18656),n=r(95220),a=r(41664),o=r.n(a),l=r(10268),s=r(28564),c=r(4398),d=r(67626),u=r(45536),f=r(35944);var p={name:"11d5xl0",styles:"display:flex;flex:1 1 0%;justify-content:flex-end;padding-top:24px;padding-left:24px;padding-right:24px"},v={name:"1rtopj1",styles:"display:flex;flex-direction:column;padding:32px;> :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(16px * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(16px * var(--tw-space-y-reverse));}"},h={name:"q1g67a",styles:"display:flex;flex:1 1 0%;align-items:center"},m={name:"h9aywo",styles:"position:relative;margin-bottom:8px;width:100%"},g={name:"4zleql",styles:"display:block"},w={name:"19uyf0e",styles:"display:block;text-align:center"},y={name:"19uyf0e",styles:"display:block;text-align:center"},b={name:"sfehxg",styles:"display:flex;justify-content:center;> :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(8px * var(--tw-space-x-reverse));margin-left:calc(8px * calc(1 - var(--tw-space-x-reverse)));}@media (min-width: 1024px){> :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(16px * var(--tw-space-x-reverse));margin-left:calc(16px * calc(1 - var(--tw-space-x-reverse)));}}"},x={name:"rqq752",styles:"font-size:1rem;@media (min-width: 768px){font-size:.875rem;}@media (min-width: 1024px){font-size:1rem;}"},_={name:"rqq752",styles:"font-size:1rem;@media (min-width: 768px){font-size:.875rem;}@media (min-width: 1024px){font-size:1rem;}"},k={name:"rqq752",styles:"font-size:1rem;@media (min-width: 768px){font-size:.875rem;}@media (min-width: 1024px){font-size:1rem;}"},Z={name:"rqq752",styles:"font-size:1rem;@media (min-width: 768px){font-size:.875rem;}@media (min-width: 1024px){font-size:1rem;}"},j=function(e){var t,r,a,j,P,O,z,B,q,C=e.token,X=e.showProjectInfo,E=e.onFavoriteUpdate;if(!C)return null;var H=C.project.aspect_ratio;return(0,f.BX)(i.i,{children:[E?(0,f.tZ)(u.d,{feature:"favorite-button",children:(0,f.tZ)("div",{css:p,children:(0,f.tZ)(d._,{favoritedAmount:null===(t=C.favorites_aggregate.aggregate)||void 0===t?void 0:t.count,type:"token",favoritedObject:C.id,favorited:C.favorited_by_user,onFavoriteUpdate:E})})}):null,(0,f.BX)("div",{css:v,children:[(0,f.tZ)("div",{css:h,children:(0,f.tZ)(n.U,{aspectRatio:H,css:m,children:null!==(r=C.image)&&void 0!==r&&r.url?(0,f.tZ)(o(),{href:(0,l.BH)(C.id,null===(a=C.contract)||void 0===a?void 0:a.is_artblocks,null===(j=C.contract)||void 0===j?void 0:j.is_collab),css:g,passHref:!0,children:(0,f.tZ)("a",{draggable:!1,children:(0,f.tZ)(s.w,{disableAutoFormat:C.project.disable_auto_image_format,src:null===(P=C.image)||void 0===P?void 0:P.url,layout:"fill",sizes:"(min-width: ".concat("1024px",") 20vw, (min-width: ","768px",") 30vw, 100vw")})})}):null})}),(0,f.BX)("div",{css:w,children:["#",C.token_id]}),X?(0,f.BX)("div",{css:y,children:[C.project.name||"",(0,f.tZ)("br",{}),C.project.artist_name||""]}):null,(0,f.BX)("div",{css:b,children:[(0,f.tZ)(c.h,{to:(0,l.BH)(C.id,null===(O=C.contract)||void 0===O?void 0:O.is_artblocks,null===(z=C.contract)||void 0===z?void 0:z.is_collab),title:"view token details",internal:!0,css:x,children:"details"}),C.project.active?(0,f.BX)(f.HY,{children:[(0,f.tZ)(c.h,{target:"_blank",rel:"noreferrer",to:(null===(B=C.image)||void 0===B?void 0:B.url)||"",title:"open image",css:_,children:"image"}),(0,f.tZ)(c.h,{target:"_blank",rel:"noreferrer",css:k,title:"open live view",to:"".concat("https://generator.artblocks.io").concat(C.live_view_path),children:"live"}),(0,f.tZ)(u.d,{feature:"oncyber-integration",children:null!==(q=C.contract)&&void 0!==q&&q.is_artblocks&&!C.contract.is_collab?(0,f.tZ)(c.h,{target:"_blank",rel:"noreferrer",css:Z,title:"view in oncyber",to:"".concat("https://oncyber.io/art-blocks?id=").concat(C.token_id),children:"3D"}):null})]}):null]})]})]},C.id)}},18083:function(e,t,r){var i=r(27812),n=r(59499),a=r(16835),o=r(67294),l=r(54871),s=r(37705),c=r(87620),d=r(10166),u=r(8356),f=r(18656),p=r(43650),v=r(65093),h=r(35944);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w={name:"1eeyj5m",styles:"border-top-width:1px"};t.Z=function(e){var t,r,i,n=e.initialPageVariables,s=e.showProjectInfo,d=e.currentPage,u=void 0===d?1:d,v=e.onPageChange,m=e.numCols,g=(0,l.XgX)({variables:{where:n.where,filter:n.filter}}),y=null===(t=(0,a.Z)(g,1)[0].data)||void 0===t||null===(r=t.filter_tokens_metadata_by_features_aggregate)||void 0===r||null===(i=r.aggregate)||void 0===i?void 0:i.count,x=y?Math.ceil(y/n.limit):1,_=o.useState((function(){return{cursor:(u-1)*n.limit,limit:n.limit,where:n.where,filter:n.filter,orderBy:n.orderBy}})),k=(0,a.Z)(_,2),Z=k[0],j=k[1];return(0,c.Z)((function(){j({cursor:(u-1)*n.limit,limit:n.limit,where:n.where,filter:n.filter,orderBy:n.orderBy})}),[n,u]),(0,h.BX)("div",{children:[(0,h.tZ)(f.V,{lgCols:m||5,mdCols:m||3,children:(0,h.tZ)(b,{variables:Z,showProjectInfo:s})}),(0,h.tZ)("div",{children:(0,h.tZ)(p.a,{currentPage:u,onPageChange:v,totalPages:x,css:w})})]})};var y={name:"10w7sas",styles:"@media (max-width: 639px){height:750px;}@media (min-width: 640px){height:1200px;}"};function b(e){var t=e.variables,r=e.showProjectInfo,n=(0,u.aC)(),c=n.user,f=n.loading,p={where:g({contract:{_or:(0,i.Z)(null!==c&&void 0!==c&&c.isStaff?[{}]:[{is_artblocks:{_eq:!0}},{address:{_in:(null===c||void 0===c?void 0:c.whitelistedOn)||[]}}])}},t.where),filter:t.filter,limit:t.limit,offset:t.cursor,orderBy:t.orderBy},m=(0,l.QvP)({variables:p}),w=(0,a.Z)(m,2),b=w[0],x=w[1],_=b.data,k=b.fetching,Z=o.useCallback((function(){return x({requestPolicy:"cache-and-network"})}),[x]);o.useEffect((function(){f||Promise.resolve().then((function(){return x({requestPolicy:"cache-and-network"})}))}),[f,x]);var j=(0,s.H)(null===_||void 0===_?void 0:_.filter_tokens_metadata_by_features);return k?(0,h.tZ)("div",{css:["grid-column:span 5 / span 5;display:flex;align-items:center;justify-content:center;padding:40px;font-size:1.3125rem;",y,"",""],children:(0,h.tZ)(d.g,{children:"loading"})}):(0,h.tZ)(h.HY,{children:j.map((function(e){return(0,h.tZ)(v.G,{onFavoriteUpdate:Z,token:e,showProjectInfo:r},e.id)}))})}},54880:function(e,t,r){var i=r(50029),n=r(87794),a=r.n(n),o=r(7258),l=r(29296);o.addMethod(o.string,"ethAddress",(function(){return this.test("eth-address","Invalid Ethereum address or ENS",function(){var e=(0,i.Z)(a().mark((function e(t){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return r=new l.r("https://mainnet.infura.io/v3/dd713bbc193c468f8372013c7a45e221"),i=null,e.prev=4,e.next=7,r.resolveName(t);case 7:i=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.warn("Error while validating ethereum address");case 13:return e.abrupt("return",!!i);case 14:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}())})),t.Z=o}}]);