(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[142],{96059:function(e,t,n){"use strict";n.d(t,{v:function(){return d}});var r=n(47570),i=(n(67294),n(5425)),o=n(83592),a=n(50105),s=n(58431),c=n(35944);var l={name:"1863x69",styles:"z-index:10;width:100%;pointer-events:none"},d=function(e){var t=e.children,n=e.className,r=e.noBorder,i=e.fullBleed;return(0,c.tZ)(o.S,{noBorder:r,fullBleed:i,children:(0,c.BX)(a.O,{children:[(0,c.tZ)("div",{css:l,className:n,children:t}),(0,c.tZ)(u,{children:(0,c.tZ)(s.Z,{children:"open"})})]})})},u=(0,r.Z)(i.KF,{target:"efpremx0"})({name:"1mkyn1m",styles:"position:absolute;top:0px;right:0px;bottom:0px;left:0px;padding:24px;width:100%;text-align:left;"})},53894:function(e,t,n){"use strict";var r=n(59499),i=n(4730),o=n(47570),a=(n(67294),n(43151)),s=n(58431),c=n(39920),l=n(35944),d=["name","checked","onChange"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={name:"zjik7",styles:"display:flex"},m={name:"c1vfsu",styles:"display:flex;flex:1 1 0%;align-items:center;justify-content:center;font-size:1.6875rem;line-height:1.3;font-weight:300"},v={name:"9ajxxt",styles:"position:relative;flex:1 1 0%;overflow:hidden"},h={name:"2iygn5",styles:"position:absolute;top:8px;right:8px;bottom:8px;left:8px;border-radius:9999px"},g={name:"c1vfsu",styles:"display:flex;flex:1 1 0%;align-items:center;justify-content:center;font-size:1.6875rem;line-height:1.3;font-weight:300"},y=(0,o.Z)("label",{target:"e1blcmz0"})({name:"1lvpquo",styles:"display:block;border-width:1px;border-radius:9999px;cursor:pointer;overflow:hidden;width:100px"});t.Z=function(e){var t=e.name,n=e.checked,r=e.onChange,o=(0,i.Z)(e,d),u=(0,c.useSpring)({x:n?0:-50,backgroundColor:n?"#538cc5":"#C3423F"});return(0,l.tZ)(a.Qg,{checked:n,onChange:r,children:function(e){var n=e.focused;return(0,l.BX)(l.HY,{children:[(0,l.tZ)(s.T,{children:(0,l.tZ)(a.ZX,p({id:t},o))}),(0,l.tZ)(y,{htmlFor:t,focused:n,"aria-hidden":!0,children:(0,l.BX)(c.animated.div,{css:f,style:{width:150,x:u.x},children:[(0,l.tZ)("div",{css:m,style:{height:50},children:"\ue028"}),(0,l.tZ)("div",{css:v,children:(0,l.tZ)(c.animated.div,{css:h,style:{backgroundColor:u.backgroundColor}})}),(0,l.tZ)("div",{css:g,style:{height:50},children:"\ue027"})]})})]})}})}},55036:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return yr},default:function(){return br}});var r=n(59499),i=n(27812),o=n(4730),a=n(50029),s=n(16835),c=n(47570),l=n(87794),d=n.n(l),u=n(67294),p=n(9669),f=n.n(p),m=n(61325),v=n(54871),h=n(700),g=n(15610),y=n(62801),b=n(18083),w=n(35676),_=n(87953),x=n(5425),E=n(50105),O=n(96059),k=(n(66982),n(35944));var T={name:"18uqayh",styles:"margin-bottom:16px"},Z={name:"c6e7f1",styles:"border-width:1px;border-radius:0.25rem"},P=function(e){var t=e.header,n=e.children,r=e.className;return(0,k.tZ)(x.UQ,{collapsible:!0,css:T,className:r,children:(0,k.tZ)(x.Qd,{css:Z,children:(0,k.tZ)(I,{header:t,children:n})})})},j={name:"zl1inp",styles:"display:flex;justify-content:center"},A={name:"ga3b11",styles:"display:flex;align-items:center;justify-content:space-between;width:100%"},S={name:"zl1inp",styles:"display:flex;justify-content:center"},I=function(e){var t=e.header,n=e.children,r=(0,x.bB)().isExpanded;return(0,k.BX)(k.HY,{children:[(0,k.tZ)(O.v,{css:j,noBorder:!r,fullBleed:!0,children:(0,k.BX)("div",{css:A,children:[t,(0,k.tZ)("div",{css:["font-size:1.3125rem;",r?null:{transform:"rotate(270deg)"},"",""],children:"\ue005"})]})}),(0,k.tZ)(x.Hk,{children:(0,k.tZ)(E.O,{css:S,children:n})})]})},C=n(65987),N=n(40248),R=n(4398),D=n(65732),B=n(18058),L=n(90352),F=n(27361),U=n.n(F),X=function(e){return!!e&&"ETH"!==e},M=function(e,t){var n,r=null===e||void 0===e?void 0:e.live_sale_data,i=null===e||void 0===e||null===(n=e.minter_configuration)||void 0===n?void 0:n.start_time;if(!e||!t||!r)return!1;if(i&&new Date(i).getTime()>Date.now())return!1;var o=t&&t.projectsCreated.includes(e.id),a=r.invocations===Number(null===e||void 0===e?void 0:e.max_invocations),s=null!=r.paused?r.paused:e.paused;return t&&!a&&(!s||o)},z=function(e){var t,n,r=null===e||void 0===e?void 0:e.minter_configuration;return{usesMinterSuite:!0,minterAddress:null===r||void 0===r||null===(t=r.minter)||void 0===t?void 0:t.address,minterType:null===r||void 0===r||null===(n=r.minter)||void 0===n?void 0:n.minter_type,currencyAddress:null===r||void 0===r?void 0:r.currency_address,currencySymbol:null===r||void 0===r?void 0:r.currency_symbol,priceIsConfigured:!(null===r||void 0===r||!r.price_is_configured)}};function q(e){return Object.fromEntries(Object.entries(e).map((function(e){var t=(0,s.Z)(e,2),n=t[0],r=t[1];if(!r)return[n,r];switch(n){case"base_price":case"start_price":return[n,(0,D.e)(L.wb,r)];case"start_time":case"end_time":return[n,(0,B.p6)(new Date(r))];default:return[n,r]}})))}function G(e,t,n){return e.replace(/\{[^}]+\}/g,(function(e){return U()(t,e.slice(1,-1).trim())||n||e}))}var H=n(39920),V=function(e){var t=e.value,n=(0,H.useSpring)({number:t,config:H.config.molasses}).number;return u.useEffect((function(){var e=function(){n&&n.finish()};return window.addEventListener("focus",e),function(){window.removeEventListener("focus",e)}}),[n]),n?(0,k.tZ)(H.animated.span,{children:n.to((function(e){return n.isAnimating?e.toFixed(3):e}))}):null};var W={name:"gdyv91",styles:"stroke:var(--color-primary)"},Y=function(e){var t=e.className;return(0,k.BX)("svg",{width:"14",height:"19",viewBox:"0 0 14 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,css:W,children:[(0,k.tZ)(J,{d:"M1 1L7.06061 4.63636L13.1212 1"}),(0,k.tZ)(J,{d:"M1 5.12121L7.06061 8.75758L13.1212 5.12121",style:{animationDelay:".25s"}}),(0,k.tZ)(J,{d:"M1 9.24242L7.06061 12.8788L13.1212 9.24242",style:{animationDelay:".5s"}}),(0,k.tZ)(J,{d:"M1 13.3636L7.06061 17L13.1212 13.3636",style:{animationDelay:".75s"}})]})},J=(0,c.Z)("path",{target:"e1e0k6pa0"})({name:"1wyr4q6",styles:"animation:pulse 1s linear infinite;@keyframes pulse{0%{opacity:0.2;}50%{opacity:1;}100%{opacity:0.2;}}"});var $={name:"1lulk7e",styles:"transform:translateY(2px)"},K={name:"1lulk7e",styles:"transform:translateY(2px)"},Q={name:"1lulk7e",styles:"transform:translateY(2px)"},ee={name:"1lulk7e",styles:"transform:translateY(2px)"},te={name:"xkmy7w",styles:"padding-top:32px;padding-bottom:32px"},ne={name:"9utkcq",styles:"margin-bottom:24px;padding:16px;max-width:65ch;border-width:1px;border-radius:0.375rem"},re={name:"1o8l2p4",styles:"overflow-wrap:break-word;font-style:italic"},ie={name:"1j389vi",styles:"font-weight:700"},oe={name:"1fmq935",styles:"display:inline-block;margin-left:4px;height:16px"},ae={name:"1710uh",styles:"--tw-text-opacity:1;color:rgba(220, 38, 38, var(--tw-text-opacity));font-size:.875rem;font-weight:700"},se={name:"1o8l2p4",styles:"overflow-wrap:break-word;font-style:italic"},ce={name:"uz5at",styles:"max-width:65ch"},le={name:"urda7s",styles:"width:100%;overflow-wrap:break-word"},de={name:"1j389vi",styles:"font-weight:700"},ue={name:"1j389vi",styles:"font-weight:700"},pe={name:"1j389vi",styles:"font-weight:700"},fe={name:"qktuiy",styles:"position:relative;top:-0.125rem;display:inline-block;margin-right:8px"},me=function(e){var t,n,r,i,o,a,s,c,l,d,u,p,f,m=e.projectMetadata,v=e.openseaURL,h=m.live_sale_data,g=null===(t=m.minter_configuration)||void 0===t?void 0:t.start_time,y=g&&new Date(g).getTime()<Date.now()&&(null===(n=m.minter_configuration)||void 0===n?void 0:n.base_price)!==(null===h||void 0===h?void 0:h.price),b=z(m).currencySymbol,w="ETH"===b?"\u039e":b,x=(0,C.s)(m.script_json);return(0,k.BX)(E.O,{css:te,children:[(0,k.BX)("div",{css:ne,children:[null!==(r=m.contract)&&void 0!==r&&r.minter_filter&&null!==m&&void 0!==m&&null!==(i=m.minter_configuration)&&void 0!==i&&null!==(o=i.minter)&&void 0!==o&&null!==(a=o.type)&&void 0!==a&&a.description_template?(0,k.tZ)(_.Z,{children:G(null===m||void 0===m||null===(s=m.minter_configuration)||void 0===s||null===(c=s.minter.type)||void 0===c?void 0:c.description_template,q(m.minter_configuration),"unknown")}):null,m.artist_interview?(0,k.tZ)(_.Z,{children:(0,k.BX)(R.h,{css:re,to:m.artist_interview,target:"_blank",rel:"noreferrer",children:["curated artist interview",(0,k.tZ)("span",{css:["display:inline-block;font-size:1.3125rem;",ee,"",""],"aria-hidden":"true",children:"\u2197"})]})}):null,m.complete?null:(0,k.BX)(_.Z,{children:[(0,k.tZ)("span",{css:ie,children:"price per token:"})," ",h?(0,k.BX)(k.HY,{children:[(0,k.tZ)(V,{value:h.formattedPriceNumber}),w]}):"-",y?(0,k.BX)(k.HY,{children:[(0,k.tZ)(Y,{css:oe})," ",(0,k.tZ)("span",{css:ae,children:"[ auction live ]"})]}):null]}),!m.complete&&m.sales_notes?(0,k.tZ)(_.Z,{children:m.sales_notes}):null,m.charitable_giving_details?(0,k.tZ)(_.Z,{children:m.charitable_giving_details}):null]}),null!==m&&void 0!==m&&m.website?(0,k.tZ)(_.Z,{children:(0,k.BX)(R.h,{css:se,to:m.website,target:"_blank",rel:"noreferrer",children:[m.website,(0,k.tZ)("span",{css:["display:inline-block;font-size:1.3125rem;",Q,"",""],"aria-hidden":"true",children:"\u2197"})]})}):null,(0,k.tZ)(N.s,{children:null===m||void 0===m?void 0:m.description}),m.artist_display_notes?(0,k.tZ)(P,{header:"artist display notes",css:ce,children:(0,k.tZ)("div",{css:le,children:m.artist_display_notes})}):null,x.type?(0,k.BX)(_.Z,{children:[(0,k.tZ)("span",{css:de,children:"library: "}),x.type]}):null,m.license?(0,k.BX)(_.Z,{children:[(0,k.tZ)("span",{css:ue,children:"license: "}),m.link_to_license?(0,k.BX)(R.h,{to:m.link_to_license,target:"_blank",rel:"noreferrer",children:[m.license,(0,k.tZ)("span",{css:["display:inline-block;font-size:1.3125rem;",K,"",""],"aria-hidden":"true",children:"\u2197"})]}):(0,k.tZ)("span",{children:null===m||void 0===m?void 0:m.license})]}):null,m.creative_credit?(0,k.BX)(_.Z,{children:[(0,k.tZ)("span",{css:pe,children:"creative credits: "}),m.creative_credit]}):null,v?(0,k.BX)(R.h,{to:v,target:"_blank",rel:"noreferrer",children:[(0,k.tZ)("img",{css:fe,src:"/opensea-logomark-full-colored.svg",width:16,height:16}),"view on OpenSea",(0,k.tZ)("span",{css:["display:inline-block;font-size:1.3125rem;",$,"",""],"aria-hidden":"true",children:"\u2197"})]}):null,m.complete&&null!==m&&void 0!==m&&null!==(l=m.minter_configuration)&&void 0!==l&&null!==(d=l.minter)&&void 0!==d&&null!==(u=d.type)&&void 0!==u&&u.description_template?(0,k.tZ)(_.Z,{children:G(null===m||void 0===m||null===(p=m.minter_configuration)||void 0===p||null===(f=p.minter.type)||void 0===f?void 0:f.description_template,q(m.minter_configuration),"unknown")}):null]})},ve=n(11854),he=n(8356),ge=n(91665),ye=n(29296);function be(){var e=u.useState(),t=(0,s.Z)(e,2),n=t[0],r=t[1],i=u.useState(),o=(0,s.Z)(i,2),c=o[0],l=o[1],p=u.useRef();return u.useEffect((function(){return p.current=new ye.r("https://mainnet.infura.io/v3/dd713bbc193c468f8372013c7a45e221"),p.current.on("block",(function(e){l(e)})),function(){p.current&&p.current.off("block")}}),[]),u.useEffect((function(){var e=function(){var e=(0,a.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p.current){e.next=5;break}return e.next=3,p.current.getGasPrice();case 3:t=e.sent,r(parseFloat(ge.bM(t,"gwei")).toFixed(2));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[c]),n}var we=n(10268),_e=n(87598);var xe={name:"1d3w5wq",styles:"width:100%"},Ee={name:"1d3w5wq",styles:"width:100%"},Oe={name:"gp9z30",styles:"padding-top:8px;text-align:center;font-size:.875rem"},ke={name:"1d3w5wq",styles:"width:100%"},Te=function(e){var t,n,r,i,o,a=e.projectMetadata,s=e.onPurchaseClick,c=(0,he.aC)(),l=c.user,d=c.service,u=a.id,p=a.live_sale_data,f=be(),m=l&&l.projectsCreated.includes(u),v=l&&l.whitelistedOn.includes((null===(t=a.contract)||void 0===t?void 0:t.address)||""),h=l&&l.isStaff,g=null===p||void 0===p?void 0:p.paused,y=null===(n=a.minter_configuration)||void 0===n?void 0:n.start_time,b=z(a),w=b.usesMinterSuite,_=b.priceIsConfigured,x=y&&new Date(y).getTime()>Date.now()&&!(null!==p&&void 0!==p&&p.paused),O=l&&d.state.matches("authorized")&&p&&!x&&(!w||_)&&!(null!==p&&void 0!==p&&p.complete)&&(!(null!==p&&void 0!==p&&p.paused)||m);return(0,k.BX)(E.O,{children:[a.complete||null!==p&&void 0!==p&&p.complete||null===(r=a.contract)||void 0===r||!r.is_artblocks?null:(0,k.tZ)(Ze,{children:l?(0,k.BX)("div",{children:[(0,k.tZ)(ve.z,{size:"lg",css:Ee,onClick:s,disabled:!O,children:g?"PURCHASES PAUSED":x?"UPCOMING":"PURCHASE A MINT"}),g?null:(0,k.BX)("div",{css:Oe,children:["Gas: ",f," Gwei"]})]}):(0,k.tZ)(_e.Z,{size:"lg",css:xe,onClick:function(){return d.send("WALLET_CHOICE")},content:"CONNECT TO PURCHASE"})}),m||v||h?(0,k.tZ)(Ze,{children:(0,k.tZ)(ve.z,{css:ke,size:"lg",to:(0,we.Q_)(a.id,null===(i=a.contract)||void 0===i?void 0:i.is_artblocks,null===(o=a.contract)||void 0===o?void 0:o.is_collab),internal:!0,children:"EDIT PROJECT"})}):null]})},Ze=function(e){var t=e.children;return(0,k.BX)(Pe,{children:[t,(0,k.tZ)(h.R,{inset:"sm",position:"bottom"})]})},Pe=(0,c.Z)(E.O,{target:"ed7bn610"})("&:last-of-type ",h.R,"{display:none;}"),je=n(83592),Ae=n(38272),Se=n(94059),Ie=n(65389),Ce=n(20808),Ne=n(53894),Re=n(77298),De=n(21751),Be=n(4723),Le=n(30375),Fe=n(1338),Ue=n(2593),Xe=n(54510);function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qe=(0,Be.C)({id:"web3ProjectPoll",initial:"idle",states:{idle:{on:{PROJECT_AVAILABLE:"polling"}},polling:{invoke:{src:"pollForProjectDetails",onDone:[{target:"projectOpen",actions:(0,Le.f0)((function(e,t){return ze(ze({},e),t.data)})),cond:function(e,t){return t.data.invocations<t.data.maxInvocations}},{target:"complete",actions:[(0,Le.f0)((function(e,t){return ze(ze({},e),t.data)}))]}],onError:[{target:"retry",cond:function(e){return e.retries<e.maxRetries}},{target:"failed"}]},on:{PROJECT_AVAILABLE:{target:"reset"}}},projectOpen:{after:{POLLING_INTERVAL:"polling"},on:{PROJECT_AVAILABLE:"reset"}},retry:{entry:(0,Le.f0)({retries:function(e){return e.retries+1}}),after:{POLLING_INTERVAL:"polling"},on:{PROJECT_AVAILABLE:"reset"}},failed:{on:{PROJECT_AVAILABLE:"reset"}},complete:{on:{PROJECT_AVAILABLE:"reset"}},reset:{always:{actions:(0,Le.f0)((function(e,t){return{paused:t.paused,retries:0,decimals:void 0,maxInvocations:void 0,invocations:void 0,price:void 0,priceDisplay:void 0,formattedPriceNumber:void 0}})),target:"polling"}}}},{delays:{POLLING_INTERVAL:1e4}});var Ge=n(11163);function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function We(e,t){var n,r,i,o,c,l,p,f,m,h,g,y,b,w,_,x,E,O,k=(0,Ge.useRouter)(),T=(0,he.aC)(),Z=T.user,P=T.loading,j=(0,B.$L)(e),A=(0,v.Yc4)({variables:{whereProjectMetadata:{id:{_in:j}},seed:t}}),S=(0,s.Z)(A,2),I=S[0],C=S[1],N=u.useCallback((function(){return C({requestPolicy:"cache-and-network"})}),[C]),R=I.data,D=I.fetching,L=(0,v.p3Z)({variables:{contractAddress:(null===R||void 0===R||null===(n=R.projects_metadata)||void 0===n||null===(r=n[0].contract)||void 0===r?void 0:r.address)||"",projectId:e.split("-")[0]},requestPolicy:"cache-and-network",pause:!(null!==R&&void 0!==R&&null!==(i=R.projects_metadata)&&void 0!==i&&null!==(o=i[0].contract)&&void 0!==o&&o.address)}),F=(0,s.Z)(L,1)[0].data,U=null===F||void 0===F||null===(c=F.getOpenseaCollectionURL)||void 0===c?void 0:c.url,M=null===R||void 0===R||null===(l=R.projects_metadata)||void 0===l?void 0:l[0],q=function(e){var t,n,r=null===e||void 0===e||null===(t=e.minter_configuration)||void 0===t?void 0:t.start_price,i=null===e||void 0===e||null===(n=e.minter_configuration)||void 0===n?void 0:n.base_price,o=(0,Fe.eO)(qe,{devTools:!1,context:{retries:0,maxRetries:10,paused:null===e||void 0===e?void 0:e.paused},services:{pollForProjectDetails:function(t){var n=t.decimals;return(0,a.Z)(d().mark((function t(){var o,a,c,l,u,p,f,m,v,h,g,y,b,w,_,x,E,O,k,T;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=new ye.r("https://mainnet.infura.io/v3/dd713bbc193c468f8372013c7a45e221"),c=null!=n?n:18,l=z(e),u=l.minterAddress,p=l.minterType,f=l.currencyAddress,m=l.currencySymbol,null!=n||!X(m)||!f){t.next=8;break}return v=(0,Xe.bk)(f,a),t.next=7,v.decimals();case 7:c=t.sent;case 8:return h=(0,Xe.HU)((null===e||void 0===e||null===(o=e.contract)||void 0===o?void 0:o.address)||"",a),g=(0,Xe.IO)(u||"",p,a),t.next=12,Promise.all([h.projectScriptInfo(null===e||void 0===e?void 0:e.project_id),h.projectTokenInfo(null===e||void 0===e?void 0:e.project_id)]);case 12:return y=t.sent,b=(0,s.Z)(y,2),w=b[0],_=b[1],t.next=18,g.getPriceInfo((null===e||void 0===e?void 0:e.project_id)||"");case 18:return x=t.sent,E=null===x||void 0===x?void 0:x.tokenPriceInWei,O=ge.bM(E,c),k=O.split(".")[1].length>2&&i&&Ue.O$.from(i).lt(E)&&r&&E.lt(Ue.O$.from(r))?Math.ceil(100*(Number(O)+Number.EPSILON))/100:O,T="".concat(k).concat(X(m)?" ".concat(m):"\u039e"),t.abrupt("return",{decimals:c,maxInvocations:_.maxInvocations.toNumber(),invocations:_.invocations.toNumber(),paused:w.paused,priceDisplay:T,price:E.toString(),formattedPriceNumber:Number(k)});case 24:case"end":return t.stop()}}),t)})))}}}),c=(0,s.Z)(o,2),l=c[0],p=c[1],f=null===e||void 0===e?void 0:e.id,m=null===e||void 0===e?void 0:e.paused;u.useEffect((function(){f&&p({type:"PROJECT_AVAILABLE",paused:null==m||m})}),[f,m,p]);var v=l.context,h=v.invocations,g=v.price,y=v.priceDisplay,b=v.formattedPriceNumber,w=v.paused;return f&&null!=h&&g&&y&&b?{invocations:h,price:g,priceDisplay:y,formattedPriceNumber:b,paused:w,complete:l.matches("complete")}:null}(M);M&&(M=Ve(Ve({},M),{},{live_sale_data:q})),u.useEffect((function(){Promise.resolve().then((function(){return C({requestPolicy:"cache-and-network"})}))}),[null===Z||void 0===Z?void 0:Z.publicAddress,C]),u.useEffect((function(){M||P||D||k.isFallback||k.replace("/404")}),[P,M,D,k]);var G=null===(p=M)||void 0===p?void 0:p.aspect_ratio,H=null!==(f=M)&&void 0!==f&&null!==(m=f.featured_token)&&void 0!==m&&null!==(h=m[0])&&void 0!==h&&h.id?null===(g=M)||void 0===g||null===(y=g.featured_token)||void 0===y?void 0:y[0]:null,V=H&&M?{url:(0,we.BH)(H.id,null===(b=M.contract)||void 0===b?void 0:b.is_artblocks,null===(w=M.contract)||void 0===w?void 0:w.is_collab),tokenImageUrl:null===(_=H.image)||void 0===_?void 0:_.url,tokenLiveViewPath:H.live_view_path,aspectRatio:G,showImage:M.display_static,invocation:H.invocation,tokenId:H.token_id}:null,W="".concat((null===(x=M)||void 0===x?void 0:x.invocations)||"x");return null!==(E=M)&&void 0!==E&&E.render_complete||(W=q?"".concat(q.invocations):"x"),{fetching:D,projectMetadata:M,liveSaleData:q,tokenDisplayData:V,invocationsDisplay:W,openseaURL:U,fullId:null===(O=M)||void 0===O?void 0:O.id,onFavoriteUpdate:N}}var Ye=n(56577);var Je=n(80129),$e=n.n(Je),Ke=["id"],Qe=["onlyUserTokens"],et=["tokenOrder","page"],tt=["page"],nt=["tokenFilters","page"];function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ot(e){var t,n=(0,Ge.useRouter)(),r=n.asPath.split("?")[0],i=$e().parse(n.query,{allowSparse:!0}),a=(i.id,(0,o.Z)(i,Ke)),c=a.page?parseInt(a.page,10):1,l=(0,he.aC)().user,d="true"===a.onlyUserTokens,u=function(e){var t,n,r=(0,he.aC)().user,i=(0,v.Kps)({variables:{projectId:null===e||void 0===e?void 0:e.id,publicAddress:null===r||void 0===r?void 0:r.publicAddress},pause:!(null!==r&&void 0!==r&&r.publicAddress)||!(null!==e&&void 0!==e&&e.id)});return!(null===(t=(0,s.Z)(i,1)[0].data)||void 0===t||null===(n=t.tokens_metadata)||void 0===n||!n.length)}(e),p=a.tokenOrder||v.Lqo.Desc,f=null===e||void 0===e||null===(t=e.features)||void 0===t?void 0:t.feature_fields,m=a.tokenFilters?(0,Ye.f)(a.tokenFilters):(0,Ye.z)(f),h=function(e){var t=Object.entries(e).map((function(e){var t=(0,s.Z)(e,2),n=t[0],r=t[1];if("enum"===r.type||"boolean"===r.type){var i=Object.entries(r.options).filter((function(e){return e[1]})).map((function(e){var t,r=e[0]&&!isNaN(e[0])&&!isNaN(parseFloat(e[0]));if(!e[0]||"true"!==e[0].toLowerCase()&&"false"!==e[0].toLowerCase())r&&(t='@."'.concat(n,'" == ').concat(parseFloat(e[0])));else{var i=JSON.parse(e[0].toLowerCase());t='@."'.concat(n,'" == ').concat(i)}return'@."'.concat(n,'" == "').concat(e[0],'" ').concat(t?"|| ".concat(t):"").trim()}),[]);return i.length?"(".concat(i.join(" || "),")"):null}return"number"!==r.type||r.min===r.domain[0]&&r.max===r.domain[1]?null:'(@."'.concat(n,'" >= ').concat(r.min,' && @."').concat(n,'" <= ').concat(r.max,")")})).filter((function(e){return!!e}));return t.length?"$ ? (".concat(t.join(" && "),")"):"$"}(m);return{featureFields:f,tokenFilter:m,setTokenFilter:function(e){a.tokenFilters,a.page;var t=(0,o.Z)(a,nt);n.push("".concat(r,"?").concat($e().stringify(it({tokenFilters:e},t))),void 0,{shallow:!0})},tokenOrder:p,setTokenOrder:function(e){a.tokenOrder,a.page;var t=(0,o.Z)(a,et);n.push("".concat(r,"?").concat($e().stringify(it({tokenOrder:e},t))),void 0,{shallow:!0})},userOwnsProject:u,showOnlyUserTokens:d,setShowOnlyUserTokens:function(e){a.onlyUserTokens;var t=(0,o.Z)(a,Qe);n.push("".concat(r,"?").concat($e().stringify(it({onlyUserTokens:e},t))),void 0,{shallow:!0})},tokenQueryVariables:{cursor:0,limit:30,where:it({project_id:{_eq:null===e||void 0===e?void 0:e.id}},d&&l?{owner_address:{_eq:l.publicAddress}}:null),filter:h,orderBy:[{invocation:p}]},pageNumber:c,setPageNumber:function(e){a.page;var t=(0,o.Z)(a,tt);n.push("".concat(r,"?").concat($e().stringify(it({page:e},t))),void 0,{shallow:!0})}}}var at=n(41666),st=n(63115),ct=n(81472);function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ut={name:"1trl2ip",styles:"position:absolute;top:0px;right:0px;bottom:0px;left:0px;display:flex;justify-content:center"},pt={name:"1o1rtzk",styles:"display:grid;gap:16px;grid-template-columns:repeat(3, minmax(0, 1fr))"},ft={name:"u89k52",styles:"fill:var(--color-primary)"},mt=function(e){var t=e.height,n=void 0===t?20:t,r=(0,ct.useSprings)(2,(function(e){return{from:{x:0===e?"-100%":"0%"},config:dt(dt({},ct.config.gentle),{},{clamp:!0})}})),i=(0,s.Z)(r,2),o=i[0],c=i[1],l=(0,ct.useSpringRef)(),p=(0,ct.useSprings)(6,(function(e){return{ref:l,from:{points:4},config:dt(dt({},ct.config.gentle),{},{clamp:!0})}})),f=(0,s.Z)(p,2),m=f[0],v=f[1];return u.useEffect((function(){var e=function(){var t=(0,a.Z)(d().mark((function t(n){var r,i;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(e){return(e+n)%2},i=function(e){return(Math.floor(e/3)+n)%2},t.next=4,new Promise((function(e){c.start((function(t){return{delay:400,x:0===r(t)?"0%":"100%",onRest:function(){e()},config:ct.config.stiff}}))}));case 4:return t.next=6,new Promise((function(e){v.start((function(t){return{delay:400,points:0===i(t)?5+Math.floor(15*Math.random()):4,config:dt(dt({},ct.config.stiff),{},{clamp:!0}),onRest:function(){v.current.every((function(e){return e.idle}))&&e()}}}))}));case 6:return t.next=8,new Promise((function(e){c.start((function(t){return{x:0===r(t)?"0%":"-100%",delay:400,immediate:!0,onRest:function(){return e()}}}))}));case 8:e(n+1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e(0)}),[v,c]),(0,k.tZ)("div",{css:["position:relative;width:100%;overflow:hidden;","\n        height: ".concat(n,"px;\n        mask-image: linear-gradient(\n          90deg,\n          transparent,\n          #000 10%,\n          #000 90%,\n          transparent\n        );\n      "),"",""],children:o.map((function(e,t){return(0,k.tZ)(ct.animated.div,{css:ut,style:e,children:(0,k.tZ)("div",{css:pt,children:m.slice(3*t,3*t+3).map((function(e){return(0,k.tZ)("svg",{width:n,height:n,viewBox:"0 0 400 400",css:ft,children:(0,k.tZ)(ct.animated.path,{d:e.points.to((function(e){return function(e,t,n,r,i){var o=360/(2*n),a=new Array(2*n).fill("foo").map((function(n,a){var s=function(e,t,n,r){var i=(r-90)*Math.PI/180;return{x:e+n*Math.cos(i),y:t+n*Math.sin(i)}}(e,t,a%2==0?i:r,o*a);return"".concat(s.x,",").concat(s.y)}));return"M".concat(a,"Z")}(200,200,Math.floor(e),80,200)})),strokeWidth:1,vectorEffect:"non-scaling-stroke"})},e.points.id)}))})},e.x.id)}))})};var vt=n(92432),ht=n(29380),gt=n(10146);var yt={name:"bcffy2",styles:"display:flex;align-items:center;justify-content:space-between"},bt={name:"1d0nbku",styles:"margin-top:24px"},wt={name:"o7nnmj",styles:"margin-right:16px"},_t=function(e){var t=e.purchaseEnabled,n=e.purchaseToEnabled,r=e.onPurchaseClick,i=e.onPurchaseToClick,o=e.onDismiss,a=be();return(0,k.BX)("div",{children:[(0,k.BX)(st.u_.Header,{css:yt,children:[(0,k.tZ)(st.u_.Title,{headingLevel:2,children:"warning"}),(0,k.tZ)(gt.y,{linkPath:"https://ethereum.org/en/developers/docs/gas/",text:"*what is gas?"})]}),(0,k.BX)(st.u_.Body,{children:[(0,k.tZ)(_.Z,{children:"Participating in a live Art Blocks drop is for experts only. By submitting a transaction you acknowledge the following:"}),(0,k.BX)(ht.D,{children:[(0,k.tZ)("li",{children:"You are competing with others."}),(0,k.BX)("li",{children:["You might have to\xa0",(0,k.tZ)(R.h,{to:"https://metamask.zendesk.com/hc/en-us/articles/360059562111-How-to-estimate-the-gas-fee",target:"_blank",rel:"noreferrer",children:"increase your gas price"}),"\xa0in order to have your transaction processed before others."]}),(0,k.BX)("li",{children:["Even with a high gas price it is possible your transaction will be confirmed AFTER the drop is sold out in which case your transaction will fail and you will\xa0",(0,k.tZ)(R.h,{to:"https://metamask.zendesk.com/hc/en-us/articles/360045439051-Why-did-I-pay-gas-fees-for-a-failed-transaction-",target:"_blank",rel:"noreferrer",children:"lose some of the transaction fee"}),"\xa0for the failed transaction."]}),(0,k.tZ)("li",{children:'If using the "purchase to" functionality, your mint will be minted into the address that you designate at the time of purchase. If you enter this incorrectly, there is nothing that we can do to retreive mints sent to incorrect wallets, so please take care in entering your desired destination address correctly.'})]}),(0,k.BX)("div",{css:bt,children:["Current gas price: ",(0,k.tZ)("b",{children:a})," Gwei"]})]}),(0,k.BX)(st.u_.Footer,{children:[(0,k.tZ)(ve.z,{size:"sm",onClick:o,children:"cancel"}),n?(0,k.tZ)(ve.z,{disabled:!n,size:"sm",css:wt,onClick:i,children:"purchase to"}):null,(0,k.tZ)(ve.z,{disabled:!t,size:"sm",onClick:r,children:"purchase"})]})]})},xt=n(97085),Et=n(54880),Ot=n(82175),kt=function(e){var t=e.onBack,n=e.onSubmit;return(0,k.tZ)(Ot.J9,{initialValues:{address:""},validationSchema:Et.Z.object().shape({address:Et.Z.string().ethAddress()}),enableReinitialize:!0,onSubmit:function(e){var t=e.address;n(t)},children:(0,k.BX)(Ot.l0,{children:[(0,k.tZ)(st.u_.Body,{tw:"px-0",noBorder:!0,children:(0,k.tZ)("div",{children:(0,k.tZ)(xt.n,{tw:"mb-0",name:"address",label:'"purchase to" address',placeholder:"0x1a2b... | ens.eth"})})}),(0,k.BX)(st.u_.Footer,{children:[(0,k.tZ)(ve.z,{tw:"mr-xs",size:"sm",onClick:t,children:"back"}),(0,k.tZ)(ve.z,{size:"sm",type:"submit",children:"purchase"})]})]})})};var Tt={name:"18n6016",styles:"padding-left:0px;padding-right:0px"},Zt={name:"1tlmwo2",styles:"margin-bottom:0px"},Pt={name:"1oaeivz",styles:"margin-right:8px"},jt=function(e){var t=e.minAmountToApprove,n=e.onSubmit,r=e.decimals,i=e.currencySymbol,o=e.onDismiss;return(0,k.tZ)(Ot.J9,{initialValues:{amountToApprove:t},validationSchema:Et.Z.object().shape({amountToApprove:Et.Z.number().min(t)}),enableReinitialize:!0,onSubmit:function(e){var t=e.amountToApprove;n(ge.vz("".concat(t),r))},children:(0,k.BX)(Ot.l0,{children:[(0,k.tZ)(st.u_.Body,{css:Tt,noBorder:!0,children:(0,k.tZ)("div",{children:(0,k.tZ)(xt.n,{css:Zt,name:"amountToApprove",label:"approve spending ".concat(i||"ERC-20"," to mint"),placeholder:"amount to approve"})})}),(0,k.BX)(st.u_.Footer,{children:[(0,k.tZ)(ve.z,{type:"button",css:Pt,size:"sm",onClick:o,children:"cancel"}),(0,k.tZ)(ve.z,{size:"sm",type:"submit",children:"approve"})]})]})})};let At=!1,St=!1;const It={debug:1,default:2,info:2,warning:3,error:4,off:5};let Ct=It.default,Nt=null;const Rt=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(n){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var Dt,Bt;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(Dt||(Dt={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(Bt||(Bt={}));class Lt{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();null==It[n]&&this.throwArgumentError("invalid log level name","logLevel",e),Ct>It[n]||console.log.apply(console,t)}debug(...e){this._log(Lt.levels.DEBUG,e)}info(...e){this._log(Lt.levels.INFO,e)}warn(...e){this._log(Lt.levels.WARNING,e)}makeError(e,t,n){if(St)return this.makeError("censored error",t,{});t||(t=Lt.errors.UNKNOWN_ERROR),n||(n={});const r=[];Object.keys(n).forEach((e=>{try{r.push(e+"="+JSON.stringify(n[e]))}catch(o){r.push(e+"="+JSON.stringify(n[e].toString()))}})),r.push(`code=${t}`),r.push(`version=${this.version}`);const i=e;r.length&&(e+=" ("+r.join(", ")+")");const o=new Error(e);return o.reason=i,o.code=t,Object.keys(n).forEach((function(e){o[e]=n[e]})),o}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,Lt.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,r){e||this.throwError(t,n,r)}assertArgument(e,t,n,r){e||this.throwArgumentError(t,n,r)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),Rt&&this.throwError("platform missing String.prototype.normalize",Lt.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Rt})}checkSafeUint53(e,t){"number"===typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Lt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Lt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n=n?": "+n:"",e<t&&this.throwError("missing argument"+n,Lt.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,Lt.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Lt.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Lt.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Lt.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Nt||(Nt=new Lt("logger/5.4.0")),Nt}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Lt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),At){if(!e)return;this.globalLogger().throwError("error censorship permanent",Lt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}St=!!e,At=!!t}static setLogLevel(e){const t=It[e.toLowerCase()];null!=t?Ct=t:Lt.globalLogger().warn("invalid log level - "+e)}static from(e){return new Lt(e)}}Lt.errors=Bt,Lt.levels=Dt;var Ft=n(13515),Ut=n(41428),Xt=(0,Be.C)({id:"waitForTransaction",initial:"waitingForTransactionConfirmation",states:{waitingForTransactionConfirmation:{invoke:{src:"waitForConfirmation",onDone:[{target:"transactionConfirmed",actions:(0,Le.f0)({transactionConfirmations:function(e,t){return t.data.confirmations},transactionReceipt:function(e,t){return t.data}}),cond:function(e,t){return t.data.confirmations>=e.requiredTransactionConfirmations}},{target:"waitingForTransactionConfirmation",actions:[(0,Le.f0)({transactionConfirmations:function(e,t){return t.data.confirmations}}),(0,Ut.lj)((function(e,t){return{type:"TRANSACTION_CONFIRMATION",confirmations:t.data.confirmations,pendingTransaction:e.pendingTransaction}}))]}],onError:[{target:"waitingForTransactionConfirmation",actions:[(0,Le.f0)((function(e,t){return{transactionConfirmations:0,pendingTransaction:t.data.replacement}})),(0,Ut.lj)((function(e,t){return{type:"TRANSACTION_CONFIRMATION",confirmations:0,pendingTransaction:t.data.replacement}}))],cond:function(e,t){var n=t.data;return n.code===Bt.TRANSACTION_REPLACED&&("replaced"===n.reason||"repriced"===n.reason)}},{target:"transactionFailed",actions:(0,Ut.U3)((function(e,t){var n=t.data;return n.code===Bt.TRANSACTION_REPLACED&&"cancelled"==n.reason?{message:"Transaction cancelled"}:(0,Ft.jN)(n.code)}))}]},after:{36e4:{target:"transactionFailed",actions:(0,Ut.U3)({message:"Transaction confirmation timeout"})}}},transactionConfirmed:{type:"final",data:function(e){return e.transactionReceipt}},transactionFailed:{type:"final"}}},{services:{waitForConfirmation:function(e){var t=e.pendingTransaction,n=e.transactionConfirmations;return(0,a.Z)(d().mark((function e(){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("No transaction to confirm");case 2:return e.next=4,t.wait(n+1);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))}}}),Mt={pollingRetries:0,maxPollingRetries:100,transactionReceipt:void 0,pendingTransaction:void 0,transactionConfirmations:0,requiredTransactionConfirmations:0,purchaseToAddress:void 0,mintedToken:void 0,decimals:void 0,errorMessage:void 0,amountToApprove:void 0},zt=(0,Be.C)({id:"purchase",initial:"purchase",context:Mt,states:{purchaseDisabled:{always:{target:"purchase",cond:"isPurchaseEnabled"}},purchase:{always:[{target:"purchaseDisabled",cond:"isPurchaseDisabled"}],on:{PURCHASE_INITIATED:[{target:"error",cond:"isWrongChainId",actions:(0,Le.f0)({errorMessage:function(e,t){return"Wrong network"}})},{target:"checkingErc20Funds",cond:"isErc20Purchase"},{target:"confirmPurchase"}],PURCHASE_TO_CLICK:"purchaseTo",RESET:"purchase"}},purchaseTo:{always:{target:"purchaseDisabled",cond:"isPurchaseDisabled"},on:{PURCHASE_TO_INITIATED:[{target:"checkingErc20Funds",cond:"isErc20Purchase",actions:(0,Le.f0)({purchaseToAddress:function(e,t){return t.address}})},{target:"confirmPurchase",actions:(0,Le.f0)({purchaseToAddress:function(e,t){return t.address}})}],RESET:"purchase"}},checkingErc20Funds:{invoke:{src:"checkErc20Funds",onDone:[{target:"confirmPurchase",actions:(0,Le.f0)({decimals:function(e,t){return t.data.decimals}}),cond:function(e,t){return t.data.approved}},{target:"approveErc20",actions:(0,Le.f0)({decimals:function(e,t){return t.data.decimals}})}],onError:[{target:"error",actions:(0,Le.f0)({errorMessage:function(e,t){return t.data.message}})}]}},approveErc20:{on:{APPROVAL_INITIATED:{target:"confirmApprove",actions:(0,Le.f0)({amountToApprove:function(e,t){return t.amountToApprove}})}}},confirmApprove:{invoke:{src:"initiateApproveTransaction",onDone:{target:"pendingApproveConfirmations",actions:(0,Le.f0)({pendingTransaction:function(e,t){return t.data}})},onError:[{target:"purchase",cond:function(e,t){return 4001===t.data.code}},{target:"error",actions:(0,Le.f0)({errorMessage:function(e,t){return(0,Ft.jN)(t.data.code,t.data.message)}})}]}},pendingApproveConfirmations:{entry:(0,Le.f0)({requiredTransactionConfirmations:function(e,t){return 1}}),invoke:[{src:Xt,data:{pendingTransaction:function(e){return e.pendingTransaction},transactionConfirmations:0,requiredTransactionConfirmations:1},onDone:{target:"approvedErc20",actions:(0,Le.f0)({pendingTransaction:function(e,t){},transactionReceipt:function(e,t){return t.data}})},onError:{target:"error",actions:(0,Le.f0)({errorMessage:function(e,t){return(0,Ft.jN)(t.data.code,t.data.message)}})}}],on:{TRANSACTION_CONFIRMATION:{actions:(0,Le.f0)({transactionConfirmations:function(e,t){return t.confirmations},pendingTransaction:function(e,t){return t.pendingTransaction}})}}},approvedErc20:{on:{PURCHASE_INITIATED:{target:"confirmPurchase"}}},confirmPurchase:{invoke:{src:"initiatePurchaseTransaction",onDone:{target:"pendingPurchaseConfirmations",actions:(0,Le.f0)({pendingTransaction:function(e,t){return t.data}})},onError:[{target:"purchase",cond:function(e,t){return 4001===t.data.code}},{target:"revertError",cond:function(e,t){return t.data.code===Bt.CALL_EXCEPTION},actions:(0,Le.f0)({errorMessage:function(e,t){return(0,Ft.jN)(t.data.code,t.data.message,t)}})},{target:"error",actions:(0,Le.f0)({errorMessage:function(e,t){return(0,Ft.jN)(t.data.code,t.data.message)}})}]}},pendingPurchaseConfirmations:{entry:(0,Le.f0)({requiredTransactionConfirmations:function(e,t){return 3}}),invoke:[{src:Xt,data:{pendingTransaction:function(e){return e.pendingTransaction},transactionConfirmations:0,requiredTransactionConfirmations:3},onDone:{target:"pendingToken",actions:[(0,Le.f0)({pendingTransaction:function(e,t){},transactionReceipt:function(e,t){return t.data}})]},onError:{target:"error",actions:(0,Le.f0)({errorMessage:function(e,t){return(0,Ft.jN)(t.data.code,t.data.message)}})}}],on:{TRANSACTION_CONFIRMATION:{actions:(0,Le.f0)({transactionConfirmations:function(e,t){return t.confirmations},pendingTransaction:function(e,t){return t.pendingTransaction}})}}},pendingToken:{invoke:{src:"getToken",onDone:{target:"complete",actions:(0,Le.f0)({mintedToken:function(e,t){return t.data}})},onError:"failedToRetrieveToken"}},failedToRetrieveToken:{after:{POLLING_INTERVAL:"pendingToken"}},complete:{on:{RESET:"purchase"}},error:{type:"final"},revertError:{type:"final"}}}),qt=n(21068),Gt=function(e){var t=e.styles,r=e.filePath,i=(0,u.useRef)(null),o=(0,u.useState)(null),a=o[0],s=o[1];return(0,u.useEffect)((function(){n.e(296).then(n.t.bind(n,11248,23)).then((function(e){return s(e.default)}))}),[]),(0,u.useEffect)((function(){if(a&&i.current){var e=a.loadAnimation({container:i.current,renderer:"svg",loop:!1,autoplay:!0,path:r});return e.setSpeed(1.3),function(){return e.destroy()}}}),[a,r]),(0,k.tZ)("div",{style:t,ref:i})},Ht=["Alex was here","Can you guess how many bens work at ab?","We've released 200 projects and counting!","We currently have over 100k unique mints!","Squiggles move","What do squiggles taste like? A: krabby patty","Did you know Art Blocks was founded in 2021?","Art Blocks artists collectively have donated over $50 million","In the internal Art Blocks discord we have 38 team emojis","23% of the Art Blocks team is named Kate, Ben, or Alex","LJ likes shoes","Pseudomods and Democracity both have a color palette inspired by Nimbuds","The flamingo palette in The Eternal Pump is a nod to the Flamingo DAO","Block-talk used to be named block-party","Snowfro used to gift free squiggles to those who helped mint on the testnet in the super early days","DanDan is Erick's brother","https://live.artblocks.io/ is where to see new mints as they come in!","NFTs on Art Blocks are on-chain art that is decentralized, immutable, and establishes its provenance on the Ethereum Blockchain.","NEVER give anyone your seed-phrase!","Did you know https://artblocks.wiki/ is the community wiki?","Fake Internet Money is not real money"];var Vt={name:"1azakc",styles:"text-align:center"},Wt=function(e){var t=e.list,n=e.className,r=e.delay,i=u.useState(Math.floor(Math.random()*t.length)),o=(0,s.Z)(i,2),a=o[0],c=o[1];return(0,u.useEffect)((function(){var e=setInterval((function(){c((function(e){return(e+1)%t.length}))}),r);return function(){return clearInterval(e)}}),[]),(0,H.useTransition)(a,{from:{opacity:0},enter:{opacity:1},leave:{opacity:0},config:H.config.molasses,exitBeforeEnter:!0})((function(e,r){var i=e.opacity;return(0,k.tZ)(H.animated.div,{style:{opacity:i,position:"absolute"},className:n,children:(0,k.tZ)("p",{css:Vt,children:t[r]})},r)}))},Yt=["show","onDismiss"];function Jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kt=function(e){var t=e.show,n=e.onDismiss,r=(0,o.Z)(e,Yt);return(0,k.tZ)(st.u_,{show:t,onDismiss:n,dismissOnClickOutside:!0,children:(0,k.tZ)(vn,$t($t({},r),{},{onDismiss:n}))})},Qt={name:"19tqj0e",styles:"height:68vh"},en={name:"1tlmwo2",styles:"margin-bottom:0px"},tn={name:"33dqck",styles:"color:var(--color-negative)"},nn={name:"1tlmwo2",styles:"margin-bottom:0px"},rn={name:"xkmy7w",styles:"padding-top:32px;padding-bottom:32px"},on={name:"1eoy87d",styles:"display:flex;justify-content:space-between"},an={name:"isgvpc",styles:"display:flex;flex-direction:column;align-items:flex-end"},sn={name:"pevp92",styles:"font-size:1.3125rem"},cn={name:"zigzo6",styles:"padding-top:40px;padding-bottom:40px"},ln={name:"tim9iw",styles:"display:flex;justify-content:center;padding-bottom:32px;padding-top:40px;width:100%"},dn={name:"xkmy7w",styles:"padding-top:32px;padding-bottom:32px"},un={name:"18q54yr",styles:"display:flex;flex-direction:column;@media (min-width: 768px){flex-direction:row;justify-content:space-between;}"},pn={name:"pevp92",styles:"font-size:1.3125rem"},fn={name:"w1atjl",styles:"width:100%;height:100%"},mn={name:"o7nnmj",styles:"margin-right:16px"},vn=function(e){var t,n=e.projectMetadata,r=e.onDismiss,i=(null===(t=n.contract)||void 0===t?void 0:t.address)||"",o=n.live_sale_data,c=(0,at.Ge)(),l=c.library,u=c.chainId,p=(0,he.aC)().user,f=null===n||void 0===n?void 0:n.minter_configuration,m=z(n),h=m.minterAddress,g=m.minterType,y=m.currencyAddress,b=m.currencySymbol,w=(0,vt.m8)(),x=(0,Fe.eO)(zt,{devTools:!1,delays:{POLLING_INTERVAL:500},guards:{isPurchaseDisabled:function(){return!M(n,p)},isPurchaseEnabled:function(){return M(n,p)},isErc20Purchase:function(){return X(b)},isWrongChainId:function(){return qt.Kj!==u}},services:{checkErc20Funds:function(){return(0,a.Z)(d().mark((function e(){var t,n,r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&h&&y&&p){e.next=2;break}throw Error("Something went wrong :(");case 2:return t=(0,Xe.bk)(y,l.getSigner()),n=Ue.O$.from(null===o||void 0===o?void 0:o.price),e.next=6,t.balanceOf(p.publicAddress);case 6:if(!e.sent.lt(n)){e.next=9;break}throw Error("Insufficient funds. Your ".concat(b," balance is less than the purchase price."));case 9:return e.next=11,t.allowance(p.publicAddress,h);case 11:return r=e.sent,e.next=14,t.decimals();case 14:return i=e.sent,e.abrupt("return",{approved:r.gte(n),decimals:i});case 16:case"end":return e.stop()}}),e)})))},initiateApproveTransaction:function(e){var t=e.amountToApprove;return(0,a.Z)(d().mark((function e(){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&h&&y){e.next=2;break}throw Error("Something went wrong :(");case 2:return n=(0,Xe.bk)(y,l.getSigner()),e.next=5,n.approve(h,t);case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))},initiatePurchaseTransaction:function(e){var t=e.purchaseToAddress;return(0,a.Z)(d().mark((function e(){var r,i,a,s,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&h){e.next=2;break}throw Error("Something went wrong :(");case 2:if(r=(0,Xe.IO)(h,g,l.getSigner()),i=(0,Xe.IO)(h,g,new ye.r("https://mainnet.infura.io/v3/dd713bbc193c468f8372013c7a45e221")),s={value:X(b)?0:null===o||void 0===o?void 0:o.price,gasLimit:5e5},c=$t($t({},s),{},{from:null===p||void 0===p?void 0:p.publicAddress}),!t){e.next=16;break}if(null===f||void 0===f||!f.purchase_to_disabled){e.next=9;break}throw Error("The minter for this project does not support purchasing to another account.");case 9:return e.next=11,i.callStatic.purchaseTo(t,n.project_id,c);case 11:return e.next=13,r.purchaseTo(t,n.project_id,s);case 13:a=e.sent,e.next=21;break;case 16:return e.next=18,i.callStatic.purchase(n.project_id,c);case 18:return e.next=20,r.purchase(n.project_id,s);case 20:a=e.sent;case 21:return e.abrupt("return",a);case 22:case"end":return e.stop()}}),e)})))},getToken:function(e){var t=e.transactionReceipt;return(0,a.Z)(d().mark((function e(){var n,r,o,a,s,c,u,p;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=2;break}throw Error("Something went wrong :(");case 2:if(n=(0,Xe.HU)(i,l.getSigner()),!(r=((null===t||void 0===t?void 0:t.logs)||[]).find((function(e){var t=n.interface.getEvent(e.topics[0]);return t&&"Mint"===t.name})))){e.next=15;break}if(a=n.interface.decodeEventLog("Mint",r.data,r.topics),!(s=a._tokenId)){e.next=15;break}return o=s.toString(),e.next=11,w.query(v.JGW,{tokenId:o,contractAddress:i},{requestPolicy:"network-only"}).toPromise();case 11:if(!(p=e.sent).error&&null!==(c=p.data)&&void 0!==c&&null!==(u=c.tokens_metadata)&&void 0!==u&&u[0]){e.next=14;break}throw Error();case 14:return e.abrupt("return",p.data.tokens_metadata[0]);case 15:if(o){e.next=17;break}throw Error("Unexpected transaction response");case 17:case"end":return e.stop()}}),e)})))}}}),O=(0,s.Z)(x,2),T=O[0],Z=O[1],P=M(n,p);if(T.matches("purchaseDisabled"))return(0,k.tZ)(st.u_.Body,{noBorder:!0,children:(0,k.tZ)(_.Z,{weight:"bold",css:en,children:"Purchasing is not currently available for this project."})});if(T.matches("error")||T.matches("revertError"))return(0,k.BX)("div",{children:[(0,k.tZ)(st.u_.Header,{children:(0,k.BX)(st.u_.Title,{headingLevel:2,css:tn,children:["error",T.matches("revertError")?": transaction stopped":null]})}),(0,k.tZ)(st.u_.Body,{children:(0,k.tZ)(_.Z,{children:T.context.errorMessage})}),(0,k.tZ)(st.u_.Footer,{children:(0,k.tZ)(ve.z,{size:"sm",onClick:r,children:"close"})})]});if(T.matches("purchase"))return(0,k.tZ)(_t,{onDismiss:r,onPurchaseClick:function(){Z("PURCHASE_INITIATED")},onPurchaseToClick:function(){Z("PURCHASE_TO_CLICK")},purchaseEnabled:P,purchaseToEnabled:P&&Boolean(f)&&!(null!==f&&void 0!==f&&f.purchase_to_disabled)});if(T.matches("purchaseTo"))return(0,k.tZ)(kt,{onBack:function(){return Z("RESET")},onSubmit:function(e){Z({type:"PURCHASE_TO_INITIATED",address:e})}});if(T.matches("approveErc20")){var j=T.context.decimals,A=parseFloat(ge.bM((null===o||void 0===o?void 0:o.price)||"0",j));return(0,k.tZ)(jt,{onDismiss:r,onSubmit:function(e){Z({type:"APPROVAL_INITIATED",amountToApprove:e})},decimals:null!=j?j:18,minAmountToApprove:A,currencySymbol:b})}if(T.matches("approvedErc20")){var S=ge.bM(T.context.amountToApprove,T.context.decimals);return(0,k.BX)("div",{children:[(0,k.tZ)(st.u_.Header,{children:(0,k.BX)(st.u_.Title,{headingLevel:2,children:["approved spending ",S," ",b||"ERC-20"]})}),(0,k.BX)(st.u_.Footer,{children:[(0,k.tZ)(ve.z,{size:"sm",onClick:r,children:"cancel"}),(0,k.tZ)(ve.z,{size:"sm",onClick:function(){return Z("PURCHASE_INITIATED")},children:"complete purchase"})]})]})}if(T.matches("confirmPurchase")||T.matches("confirmApprove"))return(0,k.tZ)(st.u_.Body,{noBorder:!0,children:(0,k.tZ)(_.Z,{weight:"bold",css:nn,children:"Please confirm your purchase in wallet."})});if(T.matches("checkingErc20Funds"))return(0,k.BX)("div",{children:[(0,k.tZ)(st.u_.Header,{children:(0,k.BX)(st.u_.Title,{headingLevel:2,children:["checking ",b||"ERC-20"," allowance"]})}),(0,k.tZ)("div",{css:rn,children:(0,k.tZ)(mt,{height:35})})]});if(T.matches("pendingPurchaseConfirmations")||T.matches("pendingApproveConfirmations")){var I,C=T.matches("pendingPurchaseConfirmations")?"purchase pending":"approval pending";return(0,k.BX)("div",{children:[(0,k.BX)(st.u_.Header,{css:on,children:[(0,k.BX)("div",{children:[(0,k.tZ)(st.u_.Title,{headingLevel:2,children:C}),(0,k.BX)("p",{children:[null===n||void 0===n?void 0:n.name," by ",n.artist_name]})]}),(0,k.BX)("div",{css:an,children:[(0,k.BX)("div",{css:sn,children:["confirmations: ",T.context.transactionConfirmations," of"," ",T.context.requiredTransactionConfirmations]}),(0,k.tZ)(gt.y,{linkPath:"https://ethereum.org/en/developers/docs/transactions/#transaction-lifecycle",text:"*what are confirmations?"})]})]}),(0,k.tZ)(je.S,{children:(0,k.BX)(E.O,{css:cn,children:[(0,k.tZ)(mt,{height:35}),(0,k.tZ)("div",{css:ln,children:(0,k.tZ)(Wt,{delay:6e3,list:Ht})})]})}),(0,k.tZ)(st.u_.Footer,{children:(0,k.tZ)(ve.z,{size:"sm",to:"https://".concat("etherscan.io","/tx/").concat(null===(I=T.context.pendingTransaction)||void 0===I?void 0:I.hash),target:"_blank",rel:"noreferrer",children:"view on etherscan"})})]})}if(T.matches("pendingToken")||T.matches("failedToRetrieveToken"))return(0,k.BX)("div",{children:[(0,k.tZ)(st.u_.Header,{children:(0,k.tZ)(st.u_.Title,{headingLevel:2,children:"processing new token"})}),(0,k.tZ)("div",{css:dn,children:(0,k.tZ)(mt,{height:35})})]});if(T.matches("complete")){var N,D,B,L,F,U,q,G,H=T.context.mintedToken,V=H.token_id,W=H.project.aspect_ratio,Y=new URLSearchParams;return Y.append("text","I just minted ".concat(T.context.mintedToken.project.name," #").concat(V,"!")),Y.append("url","".concat("https://artblocks.io").concat((0,we.BH)(H.id,null===(N=H.contract)||void 0===N?void 0:N.is_artblocks,null===(D=H.contract)||void 0===D?void 0:D.is_collab))),Y.append("via","artblocks_io"),(0,k.BX)("div",{children:[(0,k.tZ)(Gt,{filePath:"/confetti-banner.json",styles:{position:"fixed",top:-325,left:0}})," ",(0,k.tZ)(Gt,{filePath:"/confetti.json",styles:{position:"fixed",bottom:-100,right:0}})," ",(0,k.BX)(st.u_.Header,{css:un,children:[(0,k.tZ)(st.u_.Title,{headingLevel:2,children:"Minted just for you!"}),(0,k.BX)(R.h,{to:(0,we.BH)(H.id,null===(B=H.contract)||void 0===B?void 0:B.is_artblocks,null===(L=H.contract)||void 0===L?void 0:L.is_collab),css:pn,internal:!0,children:["Token #",V]})]}),(0,k.tZ)(je.S,{css:["padding:16px;",Qt,"",""],children:(0,k.tZ)(E.O,{css:fn,children:(0,k.tZ)(Re.x,{disableAutoImageFormat:H.project.disable_auto_image_format,tokenImageUrl:null===(F=H.image)||void 0===F?void 0:F.url,tokenLiveViewPath:H.live_view_path,aspectRatio:W,showImage:!1,isCollab:null===(U=H.contract)||void 0===U?void 0:U.is_collab})})}),(0,k.BX)(st.u_.Footer,{children:[(0,k.tZ)(ve.z,{size:"sm",onClick:r,children:"close"}),(0,k.tZ)(ve.z,{size:"sm",css:mn,to:"https://twitter.com/intent/tweet?".concat(Y),target:"_blank",rel:"noreferrer",children:"share"}),(0,k.tZ)(ve.z,{size:"sm",to:(0,we.BH)(H.id,null===(q=H.contract)||void 0===q?void 0:q.is_artblocks,null===(G=H.contract)||void 0===G?void 0:G.is_collab),internal:!0,children:"view"})]})]})}return null},hn=n(46145),gn=n(13166),yn=n(10101);function bn(e,t,n,r,i){var o=(0,yn._)(),a=o.addAnnouncement,s=o.removeAnnouncement;u.useEffect((function(){var o={dismissable:n,announcementText:e,announcementType:t,moreInfoLink:i};return r&&a(o),function(){s(o)}}),[r,a,s,n,e,t,i])}var wn=n(69928),_n=n(90917),xn=n(67626),En=n(45536),On=n(66010),kn=n(10166),Tn=n(66916),Zn=(n(34155),["limit","cursor"]);function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var An={name:"1t4789m",styles:"line-height:1rem;position:relative;top:1px"},Sn={name:"1zd4n",styles:"flex-basis:100%;@media (min-width: 768px){flex-basis:50%;}"},In={name:"1w6dsig",styles:"padding-left:40px;padding-right:40px;padding-top:16px;padding-bottom:16px"},Cn={name:"121ldii",styles:"padding-top:24px;padding-bottom:24px"},Nn={name:"zlnchm",styles:"display:flex;flex-direction:column;> :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(16px * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(16px * var(--tw-space-y-reverse));}@media (min-width: 768px){flex-direction:row;> :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(16px * var(--tw-space-x-reverse));margin-left:calc(16px * calc(1 - var(--tw-space-x-reverse)));--tw-space-y-reverse:0;margin-top:calc(0px * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0px * var(--tw-space-y-reverse));}}"},Rn={name:"1dqmtip",styles:"margin-bottom:16px;font-weight:700"},Dn={name:"1ul8k2r",styles:"display:flex;justify-content:space-between;padding-top:24px;padding-left:16px;padding-right:16px"},Bn={name:"1j389vi",styles:"font-weight:700"},Ln={name:"xkmy7w",styles:"padding-top:32px;padding-bottom:32px"},Fn={name:"1kxqxsx",styles:"display:block;margin-bottom:16px;font-size:.875rem;font-weight:700"},Un={name:"7tjhhd",styles:"padding-left:8px;padding-right:8px"},Xn={name:"zl1inp",styles:"display:flex;justify-content:center"},Mn={name:"qlnyj0",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%;@media (min-width: 768px){flex-direction:row;}"},zn={name:"9vv5at",styles:"display:flex;flex-direction:row;> :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(8px * var(--tw-space-x-reverse));margin-left:calc(8px * calc(1 - var(--tw-space-x-reverse)));}"},qn={name:"1wlfkq4",styles:"display:flex;flex-direction:column;align-items:center;margin-bottom:16px;@media (min-width: 768px){position:absolute;left:48px;top:24px;align-items:flex-start;margin-bottom:0px;}"},Gn={name:"kj5j1j",styles:"z-index:10"},Hn={name:"2fp4sx",styles:"z-index:10;display:flex;flex-direction:column;align-items:center;margin-bottom:16px;@media (min-width: 768px){position:absolute;right:48px;top:24px;align-items:flex-end;margin-bottom:0px;}"},Vn={name:"w06059",styles:"display:flex;flex-direction:column-reverse;align-items:center;@media (min-width: 768px){flex-direction:row;}"},Wn={name:"kj5j1j",styles:"z-index:10"},Yn={name:"1u9fdlq",styles:"display:flex;flex-direction:column;align-items:center;@media (min-width: 768px){align-items:flex-start;margin-left:16px;}"},Jn={name:"1qwdu85",styles:"text-align:center;@media (min-width: 768px){text-align:left;font-size:1.6875rem;line-height:1.3;}"},$n={name:"1wclmit",styles:"display:none;@media (min-width: 768px){display:inline;}"},Kn={name:"hiki5m",styles:"@media (min-width: 768px){display:none;}"},Qn={name:"ymsk1t",styles:"white-space:nowrap;font-weight:400"},er={name:"1wclmit",styles:"display:none;@media (min-width: 768px){display:inline;}"},tr={name:"hiki5m",styles:"@media (min-width: 768px){display:none;}"},nr={name:"ymsk1t",styles:"white-space:nowrap;font-weight:400"},rr={name:"1cgkojy",styles:"margin-bottom:8px;font-size:1rem;@media (min-width: 768px){margin-bottom:0px;font-size:1.3125rem;}"},ir={name:"fokbco",styles:"display:grid;grid-template-columns:repeat(3, minmax(0, 1fr))"},or={name:"1qa2vkw",styles:"grid-column:span 3 / span 3;position:relative;@media (min-width: 768px){grid-column:span 2 / span 2;}"},ar={name:"v1ygcs",styles:"display:none;@media (min-width: 768px){display:block;}"},sr={name:"hiki5m",styles:"@media (min-width: 768px){display:none;}"},cr={name:"hiki5m",styles:"@media (min-width: 768px){display:none;}"},lr={name:"bcffy2",styles:"display:flex;align-items:center;justify-content:space-between"},dr={name:"128ibrw",styles:"display:flex;align-items:center;justify-content:flex-end;> :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(16px * var(--tw-space-x-reverse));margin-left:calc(16px * calc(1 - var(--tw-space-x-reverse)));}"},ur={name:"1d5p6ec",styles:"text-align:right;font-size:.875rem"},pr={name:"1d5p6ec",styles:"text-align:right;font-size:.875rem"},fr={name:"m2mrzp",styles:"position:sticky;top:0px;display:flex;align-items:center;justify-content:center;padding-left:8px;padding-right:8px;border-width:1px;border-radius:9999px;:hover{--tw-shadow:0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);}transition-property:box-shadow;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms"},mr={name:"10s0txy",styles:"display:none;@media (min-width: 768px){display:flex;}"},vr={name:"m2mrzp",styles:"position:sticky;top:0px;display:flex;align-items:center;justify-content:center;padding-left:8px;padding-right:8px;border-width:1px;border-radius:9999px;:hover{--tw-shadow:0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);}transition-property:box-shadow;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms"},hr=(0,c.Z)("div",{target:"e1nr7dii0"})({name:"8uzfmo",styles:"position:relative;padding-top:24px;padding-bottom:24px; height:90vh;@media only screen and (min-width: 768px){height:calc(100vh - 256px);}@media only screen and (min-width: 768px) and (max-width: 1024px){height:calc(100vh - 300px);}"},""),gr=(0,m.X)((function(e){return{url:"https://artblocks-mainnet.hasura.app/v1/graphql",exchanges:(0,Ae.zF)(e)}}),{ssr:!1,staleWhileRevalidate:!0})((function(e){var t,n,r,c,l,p,m,_,x,O=e.id.toLowerCase(),T=e.previewImage,Z=(0,Ge.useRouter)(),P=u.useState(!1),j=(0,s.Z)(P,2),A=j[0],S=j[1],I=We(O,e.seed),C=I.fetching,N=I.projectMetadata,D=I.liveSaleData,F=I.tokenDisplayData,U=I.invocationsDisplay,X=I.openseaURL,M=I.fullId,z=I.onFavoriteUpdate,q=u.useState(!1),G=(0,s.Z)(q,2),H=G[0],V=G[1],W=ot(N),Y=W.featureFields,J=W.tokenFilter,$=W.setTokenFilter,K=W.tokenOrder,Q=W.setTokenOrder,ee=W.setShowOnlyUserTokens,te=W.showOnlyUserTokens,ne=W.tokenQueryVariables,re=W.userOwnsProject,ie=W.setPageNumber,oe=W.pageNumber,ae=(x=J)?Object.entries(x).reduce((function(e,t){var n=(0,s.Z)(t,2)[1];return"enum"===n.type||"boolean"===n.type?e+Object.entries(n.options).reduce((function(e,t){return(0,s.Z)(t,2)[1]?e+1:e}),0):n.min!==n.domain[0]||n.max!==n.domain[1]?e+1:e}),0):0,se=null!==N&&void 0!==N&&N.render_delay?(null===N||void 0===N?void 0:N.render_delay)/1e3:0,ce=u.useState(),le=(0,s.Z)(ce,2),de=le[0],ue=le[1];u.useEffect((function(){var e=function(){var e=(0,a.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f().get("https://public-assets.artblocks.io/banner_"+M+".json");case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e().then((function(e){e&&e.data&&ue(e.data)}))}),[M]),bn(null!==(t=null===de||void 0===de?void 0:de.announcementText)&&void 0!==t?t:"",null!==(n=null===de||void 0===de?void 0:de.announcementType)&&void 0!==n?n:"none",null===(r=null===de||void 0===de?void 0:de.dismissable)||void 0===r||r,null!=de,null===de||void 0===de?void 0:de.moreInfoLink),bn("Please note that this project has a render delay of ".concat(se," seconds, so new mints will take slightly longer than this to have their static images rendered."),"warning",!0,!(null!==N&&void 0!==N&&N.complete)&&void 0!=se&&se>=60,"/learn#delay");var pe=Z.query.page,fe=(0,wn.g)([pe],!pe),ve=u.useState("3"),he=(0,s.Z)(ve,2),ge=he[0],ye=he[1],be=(ne.limit,ne.cursor,(0,o.Z)(ne,Zn)),we=(0,v.dxT)({variables:be}),_e=(0,s.Z)(we,1)[0],xe=_e.data,Ee=_e.fetching,Oe=_e.error,ke=function(){var e=(0,a.Z)(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:if(!Oe){e.next=5;break}return On.ZP.error("error downloading csv"),e.abrupt("return");case 5:t=[["tokenID"].concat((0,i.Z)(Object.keys(null===xe||void 0===xe?void 0:xe.filter_tokens_metadata_by_features[0].features)))].concat((0,i.Z)((null===xe||void 0===xe?void 0:xe.filter_tokens_metadata_by_features.map((function(e){var t=e.token_id,n=e.features;return[t].concat((0,i.Z)(Object.values(n)))})))||[])),n="data:text/csv;charset=utf-8,"+t.map((function(e){return e.join(",")})).join("\n"),(r=document.createElement("a")).href=n,r.download="tokens.csv",r.click(),(0,Tn.$)("download-csv-button-click","tokens downloaded on project ".concat(null===N||void 0===N?void 0:N.id));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(C||!N)return(0,k.BX)(k.HY,{children:[(0,k.tZ)(De.N,{image:T,title:null!==N&&void 0!==N&&N.name&&null!==N&&void 0!==N&&N.artist_name?"".concat(null===N||void 0===N?void 0:N.name," - ").concat(null===N||void 0===N?void 0:N.artist_name," | Art Blocks"):"Project #".concat(null===N||void 0===N?void 0:N.project_id," | Art Blocks"),description:null!==N&&void 0!==N&&N.description?"".concat(null===N||void 0===N?void 0:N.description):""}),(0,k.tZ)("div",{css:In,children:"Loading..."})]});var Ze=null===N||void 0===N||null===(c=N.badges)||void 0===c||null===(l=c[0])||void 0===l?void 0:l.tag;return(0,k.BX)(k.HY,{children:[(0,k.tZ)(De.N,{image:T,title:null!==N&&void 0!==N&&N.name&&null!==N&&void 0!==N&&N.artist_name?"".concat(null===N||void 0===N?void 0:N.name," - ").concat(null===N||void 0===N?void 0:N.artist_name," | Art Blocks"):"Project #".concat(null===N||void 0===N?void 0:N.project_id," | Art Blocks"),description:null!==N&&void 0!==N&&N.description?"".concat(null===N||void 0===N?void 0:N.description):""}),(0,k.tZ)(Kt,{projectMetadata:N,show:A,onDismiss:function(){return S(!1)}}),(0,k.BX)(st.u_,{show:H,onDismiss:function(){return V(!1)},dismissOnClickOutside:!0,children:[(0,k.tZ)(st.u_.Header,{closeButton:!0,children:(0,k.tZ)(st.u_.Title,{headingLevel:3,children:"sort and filter"})}),(0,k.tZ)(je.S,{children:(0,k.tZ)(E.O,{css:Cn,children:(0,k.tZ)("div",{css:Nn,children:(0,k.BX)("div",{css:Sn,children:[(0,k.tZ)("p",{css:Rn,style:{lineHeight:1},children:"sort order (invocation)"}),(0,k.tZ)(gn.v,{value:K,onChange:function(e){Q(e)},label:"sort order",options:[{label:"first to last",value:v.Lqo.Asc},{label:"last to first",value:v.Lqo.Desc}]})]})})})}),(0,k.BX)(je.S,{noBorder:!0,children:[(0,k.BX)("div",{css:Dn,children:[(0,k.tZ)("p",{css:Bn,children:"filter"}),ae?(0,k.tZ)(R.h,{onClick:function(){return $(void 0)},children:"clear filters"}):null]}),(0,k.BX)(E.O,{children:[re?(0,k.BX)(je.S,{noBorder:!0,children:[(0,k.BX)(E.O,{css:Ln,children:[(0,k.tZ)("div",{css:Fn,children:"my tokens"}),(0,k.tZ)("div",{css:Un,children:(0,k.tZ)(Ne.Z,{name:"showOnlyMytokens",checked:te,onChange:function(e){return ee(e.target.checked)}})})]}),(0,k.tZ)(h.R,{inset:"sm",position:"bottom",css:[Y?null:{display:"none"},"",""]})]}):null,Y?(0,k.tZ)(w.I,{attributesFilter:J,onChange:function(e){return $(e)},attributeFields:Y}):(0,k.tZ)("span",{css:Xn,children:"no available filter fields"})]})]})]}),(0,k.BX)("div",{children:[(0,k.BX)(hr,{children:[(0,k.BX)("div",{css:Mn,children:[(0,k.BX)("div",{css:zn,children:[(0,k.tZ)("div",{css:qn,children:(0,k.BX)(R.h,{to:"".concat(null===F||void 0===F?void 0:F.url),internal:!0,css:Gn,children:["showing mint #",null===F||void 0===F?void 0:F.invocation]})}),(0,k.tZ)(En.d,{feature:"favorite-button",children:(0,k.tZ)("div",{css:Hn,children:(0,k.tZ)(xn._,{favoritedAmount:null===(p=N.favorites_aggregate.aggregate)||void 0===p?void 0:p.count,type:"project",onFavoriteUpdate:z,favoritedObject:N.id,favorited:N.favorited_by_user})})})]}),F?(0,k.tZ)(Re.x,{disableAutoImageFormat:N.disable_auto_image_format,tokenId:null!==(m=N.contract)&&void 0!==m&&m.is_artblocks?F.tokenId:void 0,tokenImageUrl:F.tokenImageUrl,tokenLiveViewPath:F.tokenLiveViewPath,aspectRatio:F.aspectRatio,showImage:F.showImage,showControls:!0,isCollab:null===(_=N.contract)||void 0===_?void 0:_.is_collab}):null]}),(0,k.tZ)(g.e,{})]}),(0,k.tZ)(je.S,{children:(0,k.BX)(E.O,{css:Vn,children:[(0,k.BX)(Ce.t,{children:[Ze?(0,k.tZ)(Ie.C,{size:L.Mk,tag:Ze,altText:"circular badge icon",css:Wn}):null,(0,k.tZ)(Se.W,{projectMetadata:N})]}),(0,k.BX)("div",{css:Yn,children:[(0,k.BX)(y.X,{level:1,size:"lg",css:Jn,children:[null===N||void 0===N?void 0:N.name,(0,k.tZ)(_n.g,{css:$n}),(0,k.tZ)("br",{css:Kn}),(0,k.tZ)(R.h,{to:"/user/".concat(N.artist_address),internal:!0,children:(0,k.tZ)("span",{css:Qn,children:null===N||void 0===N?void 0:N.artist_name})}),(0,k.tZ)(_n.g,{css:er}),(0,k.tZ)("br",{css:tr}),(0,k.BX)("span",{css:nr,children:[U," of ",null===N||void 0===N?void 0:N.max_invocations," ","minted"]})]}),(0,k.tZ)("span",{css:rr,children:Ze?null===Ze||void 0===Ze?void 0:Ze.tagline:(0,B.uy)(N)})]})]})}),(0,k.tZ)(je.S,{children:(0,k.BX)("div",{css:ir,children:[(0,k.BX)("div",{css:or,children:[(0,k.tZ)(h.R,{inset:"sm",position:"right",css:ar}),(0,k.tZ)(me,{projectMetadata:N,openseaURL:X}),null!==D&&void 0!==D&&D.complete?(0,k.tZ)(h.R,{inset:"0",position:"bottom",css:sr}):null]}),(0,k.BX)("div",{css:[null!==D&&void 0!==D&&D.complete?null:{gridRowStart:"1","@media (min-width: 768px)":{gridRowStart:"auto"}},"grid-column:span 3 / span 3;position:relative;@media (min-width: 768px){grid-column:span 1 / span 1;}",""],children:[(0,k.tZ)(Te,{projectMetadata:N,onPurchaseClick:function(){return S(!0)}}),D?null:(0,k.tZ)(h.R,{inset:"0",position:"bottom",css:cr})]})]})}),(0,k.tZ)(je.S,{children:(0,k.tZ)(E.O,{ref:fe,children:(0,k.BX)("div",{css:lr,children:[(0,k.tZ)(y.X,{level:2,size:"lg",children:"tokens"}),(0,k.BX)("div",{css:dr,children:[(0,k.BX)("div",{children:[ae?(0,k.BX)("p",{css:ur,children:["active filters: ",(0,k.tZ)("b",{children:ae})]}):null,(0,k.BX)(R.h,{css:pr,onClick:function(){return Q(K===v.Lqo.Desc?v.Lqo.Asc:v.Lqo.Desc)},children:["sort order:"," ",(0,k.tZ)("span",{css:["font-size:1rem;",An,"",""],children:K===v.Lqo.Desc?"\u2193":"\u2191"})]})]}),(0,k.BX)("button",{css:fr,onClick:function(){return V(!0)},"aria-label":"Show Filters",style:{height:42},children:[(0,k.tZ)(hn.k1,{}),"sort & filter"]}),(0,k.tZ)(gn.v,{size:"xs",css:mr,value:ge,onChange:function(e){ye(e),(0,Tn.$)("token-grid-columns-changed","from default ".concat("3"," to ").concat(e))},label:"number of columns",options:[{label:"3 columns",value:"3"},{label:"4 columns",value:"4"},{label:"5 columns",value:"5"},{label:"7 columns",value:"7"}]}),Ee?(0,k.tZ)(kn.g,{children:"loading"}):(0,k.BX)("button",{css:vr,onClick:ke,"aria-label":"Download Tokens as CSV",style:{height:42},children:[(0,k.tZ)(hn._8,{}),"download csv"]})]})]})})}),(0,k.tZ)(je.S,{noBorder:!0,children:(0,k.tZ)(b.Z,jn({numCols:parseInt(ge),initialPageVariables:ne,currentPage:oe,onPageChange:ie},e))})]})]})})),yr=!0,br=gr},65987:function(e,t,n){"use strict";n.d(t,{s:function(){return a}});var r=n(59499);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a=function(e){var t={};if(e)try{t=JSON.parse(e)}catch(i){console.warn("INVALID JSON")}null!=t.curationStatus&&(null==t.curation_status&&(t.curation_status=t.curationStatus),delete t.curationStatus);var n="".concat(t.aspectRatio||1).split("/"),r=n.length>1?parseFloat(n[0])/parseFloat(n[1]):parseFloat(n[0]);return o(o({},t),{},{aspectRatio:r})}},1519:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[id]",function(){return n(55036)}])},80552:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__assign=function(){return t.__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.__assign.apply(this,arguments)},t.__read=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},t.__rest=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},t.__spreadArray=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},t.__values=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}},73487:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(27108),i=r.ActionTypes.Start,o=r.ActionTypes.Stop,a=r.ActionTypes.Raise,s=r.ActionTypes.Send,c=r.ActionTypes.Cancel,l=r.ActionTypes.NullEvent,d=r.ActionTypes.Assign,u=r.ActionTypes.After,p=r.ActionTypes.DoneState,f=r.ActionTypes.Log,m=r.ActionTypes.Init,v=r.ActionTypes.Invoke,h=r.ActionTypes.ErrorExecution,g=r.ActionTypes.ErrorPlatform,y=r.ActionTypes.ErrorCustom,b=r.ActionTypes.Update,w=r.ActionTypes.Choose,_=r.ActionTypes.Pure;t.after=u,t.assign=d,t.cancel=c,t.choose=w,t.doneState=p,t.error=y,t.errorExecution=h,t.errorPlatform=g,t.init=m,t.invoke=v,t.log=f,t.nullEvent=l,t.pure=_,t.raise=a,t.send=s,t.start=i,t.stop=o,t.update=b},41428:function(e,t,n){"use strict";var r=n(80552),i=n(29660),o=n(50509),a=n(27108),s=n(73487),c=o.toSCXMLEvent({type:s.init});function l(e,t){return t&&t[e]||void 0}function d(e,t){var n;if(o.isString(e)||"number"===typeof e){var i=l(e,t);n=o.isFunction(i)?{type:e,exec:i}:i||{type:e,exec:void 0}}else if(o.isFunction(e))n={type:e.name||e.toString(),exec:e};else{i=l(e.type,t);if(o.isFunction(i))n=r.__assign(r.__assign({},e),{exec:i});else if(i){var a=i.type||e.type;n=r.__assign(r.__assign(r.__assign({},i),e),{type:a})}else n=e}return Object.defineProperty(n,"toString",{value:function(){return n.type},enumerable:!1,configurable:!0}),n}var u=function(e,t){return e?(o.isArray(e)?e:[e]).map((function(e){return d(e,t)})):[]};function p(e){var t=d(e);return r.__assign(r.__assign({id:o.isString(e)?e:t.id},t),{type:t.type})}function f(e){return{type:s.raise,_event:o.toSCXMLEvent(e.event)}}function m(e,t){return{to:t?t.to:void 0,type:s.send,event:o.isFunction(e)?e:o.toEventObject(e),delay:t?t.delay:void 0,id:t&&void 0!==t.id?t.id:o.isFunction(e)?e.name:o.getEventType(e)}}function v(e,t,n,i){var a,s={_event:n},c=o.toSCXMLEvent(o.isFunction(e.event)?e.event(t,n.data,s):e.event);if(o.isString(e.delay)){var l=i&&i[e.delay];a=o.isFunction(l)?l(t,n.data,s):l}else a=o.isFunction(e.delay)?e.delay(t,n.data,s):e.delay;var d=o.isFunction(e.to)?e.to(t,n.data,s):e.to;return r.__assign(r.__assign({},e),{to:d,_event:c,event:c.data,delay:a})}function h(e,t){return m(e,r.__assign(r.__assign({},t),{to:a.SpecialTargets.Parent}))}var g=function(e,t){return{context:e,event:t}};var y=function(e,t,n){return r.__assign(r.__assign({},e),{value:o.isString(e.expr)?e.expr:e.expr(t,n.data,{_event:n})})};function b(e,t,n){var r=o.isFunction(e.activity)?e.activity(t,n.data):e.activity,i="string"===typeof r?{id:r}:r;return{type:a.ActionTypes.Stop,activity:i}}t.U3=function(e,t){return h((function(t,n,r){return{type:s.error,data:o.isFunction(e)?e(t,n,r):e}}),r.__assign(r.__assign({},t),{to:a.SpecialTargets.Parent}))},t.lj=h},39448:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DEFAULT_GUARD_TYPE="xstate.guard",t.EMPTY_ACTIVITY_MAP={},t.STATE_DELIMITER=".",t.TARGETLESS_KEY=""},29660:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.IS_PRODUCTION=!0},27108:function(e,t){"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.ActionTypes||(t.ActionTypes={})).Start="xstate.start",n.Stop="xstate.stop",n.Raise="xstate.raise",n.Send="xstate.send",n.Cancel="xstate.cancel",n.NullEvent="",n.Assign="xstate.assign",n.After="xstate.after",n.DoneState="done.state",n.DoneInvoke="done.invoke",n.Log="xstate.log",n.Init="xstate.init",n.Invoke="xstate.invoke",n.ErrorExecution="error.execution",n.ErrorCommunication="error.communication",n.ErrorPlatform="error.platform",n.ErrorCustom="xstate.error",n.Update="xstate.update",n.Pure="xstate.pure",n.Choose="xstate.choose",(r=t.SpecialTargets||(t.SpecialTargets={})).Parent="#_parent",r.Internal="#_internal"},50509:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(80552),i=n(39448),o=n(29660);function a(e){return Object.keys(e)}function s(e,t){try{return h(e)?e:e.toString().split(t)}catch(n){throw new Error("'"+e+"' is not a valid state path.")}}function c(e){return"object"===typeof e&&"value"in e&&"context"in e&&"event"in e&&"_event"in e}function l(e,t){return c(e)?e.value:h(e)?d(e):"string"!==typeof e?e:d(s(e,t))}function d(e){if(1===e.length)return e[0];for(var t={},n=t,r=0;r<e.length-1;r++)r===e.length-2?n[e[r]]=e[r+1]:(n[e[r]]={},n=n[e[r]]);return t}function u(e,t){for(var n={},r=a(e),i=0;i<r.length;i++){var o=r[i];n[o]=t(e[o],o,e,i)}return n}function p(e){var t;return(t=[]).concat.apply(t,r.__spreadArray([],r.__read(e)))}function f(e){return h(e)?e:[e]}function m(e){return void 0===e?[]:f(e)}function v(e,t){return u(e.states,(function(e,n){if(e){var r=(y(t)?void 0:t[n])||(e?e.current:void 0);if(r)return{current:r,states:v(e,r)}}}))}function h(e){return Array.isArray(e)}function g(e){return"function"===typeof e}function y(e){return"string"===typeof e}t.warn=function(){},o.IS_PRODUCTION||(t.warn=function(e,t){var n=e instanceof Error?e:void 0;if((n||!e)&&void 0!==console){var r=["Warning: "+t];n&&r.push(n),console.warn.apply(console,r)}});var b=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}();function w(e){try{return"__xstatenode"in e}catch(t){return!1}}var _=function(){var e=0;return function(){return(++e).toString(16)}}();function x(e,t){return y(e)||"number"===typeof e?r.__assign({type:e},t):e}t.evaluateGuard=function(e,t,n,r,o){var a=e.options.guards,s={state:o,cond:t,_event:r};if(t.type===i.DEFAULT_GUARD_TYPE)return t.predicate(n,r.data,s);var c=a[t.type];if(!c)throw new Error("Guard '"+t.type+"' is not implemented on machine '"+e.id+"'.");return c(n,r.data,s)},t.flatten=p,t.getEventType=function(e){try{return y(e)||"number"===typeof e?""+e:e.type}catch(t){throw new Error("Events must be strings or objects with a string event.type property.")}},t.isActor=function(e){return!!e&&"function"===typeof e.send},t.isArray=h,t.isBehavior=function(e){return null!==e&&"object"===typeof e&&"transition"in e&&"function"===typeof e.transition},t.isBuiltInEvent=function(e){return/^(done|error)\./.test(e)},t.isFunction=g,t.isMachine=w,t.isObservable=function(e){try{return"subscribe"in e&&g(e.subscribe)}catch(t){return!1}},t.isPromiseLike=function(e){return e instanceof Promise||!(null===e||!g(e)&&"object"!==typeof e||!g(e.then))},t.isStateLike=c,t.isString=y,t.keys=a,t.mapContext=function(e,t,n){var i,o;if(g(e))return e(t,n.data);var a={};try{for(var s=r.__values(Object.keys(e)),c=s.next();!c.done;c=s.next()){var l=c.value,d=e[l];g(d)?a[l]=d(t,n.data):a[l]=d}}catch(u){i={error:u}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return a},t.mapFilterValues=function(e,t,n){var i,o,s={};try{for(var c=r.__values(a(e)),l=c.next();!l.done;l=c.next()){var d=l.value,u=e[d];n(u)&&(s[d]=t(u,d,e))}}catch(p){i={error:p}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return s},t.mapValues=u,t.matchesState=function e(t,n,r){void 0===r&&(r=i.STATE_DELIMITER);var o=l(t,r),s=l(n,r);return y(s)?!!y(o)&&s===o:y(o)?o in s:a(o).every((function(t){return t in s&&e(o[t],s[t])}))},t.nestedPath=function(e,t){return function(n){var i,o,a=n;try{for(var s=r.__values(e),c=s.next();!c.done;c=s.next()){var l=c.value;a=a[t][l]}}catch(d){i={error:d}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return a}},t.normalizeTarget=function(e){if(void 0!==e&&e!==i.TARGETLESS_KEY)return m(e)},t.partition=function(e,t){var n,i,o=r.__read([[],[]],2),a=o[0],s=o[1];try{for(var c=r.__values(e),l=c.next();!l.done;l=c.next()){var d=l.value;t(d)?a.push(d):s.push(d)}}catch(u){n={error:u}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return[a,s]},t.path=function(e){return function(t){var n,i,o=t;try{for(var a=r.__values(e),s=a.next();!s.done;s=a.next()){o=o[s.value]}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o}},t.pathToStateValue=d,t.reportUnhandledExceptionOnInvocation=function(e,t,n){if(!o.IS_PRODUCTION){var r=e.stack?" Stacktrace was '"+e.stack+"'":"";if(e===t)console.error("Missing onError handler for invocation '"+n+"', error was '"+e+"'."+r);else{var i=t.stack?" Stacktrace was '"+t.stack+"'":"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '"+n+"'. Original error: '"+e+"'. "+r+" Current error is '"+t+"'."+i)}}},t.symbolObservable=b,t.toArray=m,t.toArrayStrict=f,t.toEventObject=x,t.toGuard=function(e,t){if(e)return y(e)?{type:i.DEFAULT_GUARD_TYPE,name:e,predicate:t?t[e]:void 0}:g(e)?{type:i.DEFAULT_GUARD_TYPE,name:e.name,predicate:e}:e},t.toInvokeSource=function(e){return"string"===typeof e?{type:e}:e},t.toObserver=function(e,t,n){if("object"===typeof e)return e;var r=function(){};return{next:e,error:t||r,complete:n||r}},t.toSCXMLEvent=function(e,t){if(!y(e)&&"$$type"in e&&"scxml"===e.$$type)return e;var n=x(e);return r.__assign({name:n.type,data:n,$$type:"scxml",type:"external"},t)},t.toStatePath=s,t.toStatePaths=function e(t){return t?y(t)?[[t]]:p(a(t).map((function(n){var r=t[n];return"string"===typeof r||r&&Object.keys(r).length?e(t[n]).map((function(e){return[n].concat(e)})):[[n]]}))):[[]]},t.toStateValue=l,t.toTransitionConfigArray=function(e,t){return f(t).map((function(t){return"undefined"===typeof t||"string"===typeof t||w(t)?{target:t,event:e}:r.__assign(r.__assign({},t),{event:e})}))},t.uniqueId=_,t.updateContext=function(e,n,i,s){return o.IS_PRODUCTION||t.warn(!!e,"Attempting to update undefined context"),e?i.reduce((function(e,t){var i,o,c=t.assignment,l={state:s,action:t,_event:n},d={};if(g(c))d=c(e,n.data,l);else try{for(var u=r.__values(a(c)),p=u.next();!p.done;p=u.next()){var f=p.value,m=c[f];d[f]=g(m)?m(e,n.data,l):m}}catch(v){i={error:v}}finally{try{p&&!p.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return Object.assign({},e,d)}),e):e},t.updateHistoryStates=v,t.updateHistoryValue=function(e,t){return{current:t,states:v(e,t)}}}},function(e){e.O(0,[323,538,129,161,175,190,258,851,425,732,925,350,589,519,774,888,179],(function(){return t=1519,e(e.s=t);var t}));var t=e.O();_N_E=t}]);